<html>
<!DOCTYPE html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Scrolling Progress - Page 2</title>
  <link href="css/scrollpos.css" type="text/css" rel="stylesheet" media="screen,projection" />

  <!-- Montserrat Sans -->
 <link href='http://fonts.googleapis.com/css?family=Lato:100,400' rel='stylesheet' type='text/css'>
 <link href='http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>


</head>

<body>

<ul>
    <li><a href="scrollpos.htm">1</a></li>
    <li><a href="scrollpos2.htm">2</a></li>
</ul>


<div class="content2">
	<h1>Hey!</h1>
	<button id="setPos">Save bookmark</button>
	<button id="remPos" title="Remove saved bookmark"><i class="fa fa-remove"></i></button>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vitae magna ut nulla lobortis iaculis. Maecenas eleifend nibh vehicula dolor interdum auctor. Nullam ut mi a dolor luctus pulvinar in quis nunc. Mauris molestie eget odio eget porttitor. Etiam suscipit ante sapien, non iaculis lacus vulputate non. Nulla vulputate lectus vel leo pulvinar, lobortis rutrum felis porta. Cras egestas, odio ac venenatis tincidunt, dui erat congue ligula, at congue nulla urna ac tortor. Ut in dolor varius, malesuada erat in, semper nisl. Cras euismod arcu sem, ac consectetur sapien rutrum quis. Vestibulum sed feugiat nulla. Duis lacinia ac mauris dictum pellentesque. Vestibulum ut dictum sem. Sed volutpat ornare nisi, vitae faucibus diam auctor id. Nam et euismod lectus.</p>
	<p>In porttitor, velit id varius volutpat, purus purus ornare urna, in cursus mauris nibh vitae nisl. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec nibh neque, scelerisque a congue a, dictum eget mi. Donec iaculis mauris in porta eleifend. Nam eu nisi velit. Etiam a semper massa. Praesent consequat sapien facilisis tellus auctor, sit amet tincidunt augue faucibus. Aliquam adipiscing elit a congue malesuada. Sed justo urna, vehicula a velit sed, sollicitudin cursus nunc. In auctor sapien nunc, non aliquam nisi euismod a. Maecenas ut est fringilla massa laoreet ullamcorper at eu mauris. Praesent quis porttitor justo.</p>
	<p>Cras mattis nibh nec justo tempor, id rhoncus magna sollicitudin. Cras iaculis dolor sit amet fermentum semper. Fusce eget pellentesque turpis. Cras placerat urna at lacus placerat, sit amet hendrerit magna aliquet. Vestibulum lobortis lectus et nibh imperdiet ornare. Sed quis purus hendrerit, sodales lectus quis, auctor sem. Donec felis sapien, tincidunt eget ullamcorper ac, scelerisque at ligula. Curabitur cursus placerat vulputate. Maecenas laoreet est nunc, sit amet eleifend libero suscipit in. Duis nunc urna, porttitor a elit at, iaculis tincidunt elit. Sed quis consectetur mauris. Nam ut semper dui.</p>
	<p>Pellentesque porttitor tortor nec tortor ullamcorper, nec scelerisque mi condimentum. Morbi cursus molestie euismod. Sed ullamcorper massa rutrum arcu auctor, eu posuere nunc interdum. Mauris ac est tellus. Nullam quis odio leo. Aenean consequat, felis in tristique iaculis, neque erat semper risus, eu commodo orci nisi quis sapien. Nullam quis elementum est. Vestibulum malesuada blandit turpis, ut imperdiet justo porttitor ac. Nullam in cursus magna. Donec ultricies ante eget massa convallis, a elementum orci tincidunt. Quisque id vulputate nunc. Pellentesque ut dictum turpis, non gravida libero.</p>
	<p>Proin molestie, urna non dapibus blandit, metus magna semper nisl, id tincidunt enim urna nec nulla. Quisque in magna et ante pharetra hendrerit placerat ac urna. Sed viverra turpis in sapien pellentesque, vel tincidunt sapien volutpat. Curabitur non nulla ac augue varius fringilla et sed augue. Phasellus quis consectetur urna. Donec molestie dui et tortor blandit, vel faucibus lacus consequat. Donec nulla diam, iaculis sed egestas ac, posuere vitae dui. Donec at cursus neque, non vestibulum enim. Aliquam augue nisi, eleifend sit amet dolor sit amet, consequat posuere orci. Cras nibh tellus, ornare at libero ac, consequat porta sapien. Aliquam ut mauris quis urna scelerisque luctus in ac enim. Nam nibh libero, mollis volutpat suscipit ac, viverra vel odio. Aliquam erat volutpat. Aenean adipiscing, nulla et ultrices commodo, lectus velit sagittis tellus, eget congue augue sapien at felis. Cras nec egestas sapien. Cras dapibus leo sed dolor laoreet, at ornare felis pretium.</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vitae magna ut nulla lobortis iaculis. Maecenas eleifend nibh vehicula dolor interdum auctor. Nullam ut mi a dolor luctus pulvinar in quis nunc. Mauris molestie eget odio eget porttitor. Etiam suscipit ante sapien, non iaculis lacus vulputate non. Nulla vulputate lectus vel leo pulvinar, lobortis rutrum felis porta. Cras egestas, odio ac venenatis tincidunt, dui erat congue ligula, at congue nulla urna ac tortor. Ut in dolor varius, malesuada erat in, semper nisl. Cras euismod arcu sem, ac consectetur sapien rutrum quis. Vestibulum sed feugiat nulla. Duis lacinia ac mauris dictum pellentesque. Vestibulum ut dictum sem. Sed volutpat ornare nisi, vitae faucibus diam auctor id. Nam et euismod lectus.</p>
	<p>In porttitor, velit id varius volutpat, purus purus ornare urna, in cursus mauris nibh vitae nisl. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec nibh neque, scelerisque a congue a, dictum eget mi. Donec iaculis mauris in porta eleifend. Nam eu nisi velit. Etiam a semper massa. Praesent consequat sapien facilisis tellus auctor, sit amet tincidunt augue faucibus. Aliquam adipiscing elit a congue malesuada. Sed justo urna, vehicula a velit sed, sollicitudin cursus nunc. In auctor sapien nunc, non aliquam nisi euismod a. Maecenas ut est fringilla massa laoreet ullamcorper at eu mauris. Praesent quis porttitor justo.</p>
	<p>Cras mattis nibh nec justo tempor, id rhoncus magna sollicitudin. Cras iaculis dolor sit amet fermentum semper. Fusce eget pellentesque turpis. Cras placerat urna at lacus placerat, sit amet hendrerit magna aliquet. Vestibulum lobortis lectus et nibh imperdiet ornare. Sed quis purus hendrerit, sodales lectus quis, auctor sem. Donec felis sapien, tincidunt eget ullamcorper ac, scelerisque at ligula. Curabitur cursus placerat vulputate. Maecenas laoreet est nunc, sit amet eleifend libero suscipit in. Duis nunc urna, porttitor a elit at, iaculis tincidunt elit. Sed quis consectetur mauris. Nam ut semper dui.</p>
	<p>Pellentesque porttitor tortor nec tortor ullamcorper, nec scelerisque mi condimentum. Morbi cursus molestie euismod. Sed ullamcorper massa rutrum arcu auctor, eu posuere nunc interdum. Mauris ac est tellus. Nullam quis odio leo. Aenean consequat, felis in tristique iaculis, neque erat semper risus, eu commodo orci nisi quis sapien. Nullam quis elementum est. Vestibulum malesuada blandit turpis, ut imperdiet justo porttitor ac. Nullam in cursus magna. Donec ultricies ante eget massa convallis, a elementum orci tincidunt. Quisque id vulputate nunc. Pellentesque ut dictum turpis, non gravida libero.</p>
	<p>Proin molestie, urna non dapibus blandit, metus magna semper nisl, id tincidunt enim urna nec nulla. Quisque in magna et ante pharetra hendrerit placerat ac urna. Sed viverra turpis in sapien pellentesque, vel tincidunt sapien volutpat. Curabitur non nulla ac augue varius fringilla et sed augue. Phasellus quis consectetur urna. Donec molestie dui et tortor blandit, vel faucibus lacus consequat. Donec nulla diam, iaculis sed egestas ac, posuere vitae dui. Donec at cursus neque, non vestibulum enim. Aliquam augue nisi, eleifend sit amet dolor sit amet, consequat posuere orci. Cras nibh tellus, ornare at libero ac, consequat porta sapien. Aliquam ut mauris quis urna scelerisque luctus in ac enim. Nam nibh libero, mollis volutpat suscipit ac, viverra vel odio. Aliquam erat volutpat. Aenean adipiscing, nulla et ultrices commodo, lectus velit sagittis tellus, eget congue augue sapien at felis. Cras nec egestas sapien. Cras dapibus leo sed dolor laoreet, at ornare felis pretium.</p>
	<p>Cras mattis nibh nec justo tempor, id rhoncus magna sollicitudin. Cras iaculis dolor sit amet fermentum semper. Fusce eget pellentesque turpis. Cras placerat urna at lacus placerat, sit amet hendrerit magna aliquet. Vestibulum lobortis lectus et nibh imperdiet ornare. Sed quis purus hendrerit, sodales lectus quis, auctor sem. Donec felis sapien, tincidunt eget ullamcorper ac, scelerisque at ligula. Curabitur cursus placerat vulputate. Maecenas laoreet est nunc, sit amet eleifend libero suscipit in. Duis nunc urna, porttitor a elit at, iaculis tincidunt elit. Sed quis consectetur mauris. Nam ut semper dui.</p>
	<p>Pellentesque porttitor tortor nec tortor ullamcorper, nec scelerisque mi condimentum. Morbi cursus molestie euismod. Sed ullamcorper massa rutrum arcu auctor, eu posuere nunc interdum. Mauris ac est tellus. Nullam quis odio leo. Aenean consequat, felis in tristique iaculis, neque erat semper risus, eu commodo orci nisi quis sapien. Nullam quis elementum est. Vestibulum malesuada blandit turpis, ut imperdiet justo porttitor ac. Nullam in cursus magna. Donec ultricies ante eget massa convallis, a elementum orci tincidunt. Quisque id vulputate nunc. Pellentesque ut dictum turpis, non gravida libero.</p>
	<p>Proin molestie, urna non dapibus blandit, metus magna semper nisl, id tincidunt enim urna nec nulla. Quisque in magna et ante pharetra hendrerit placerat ac urna. Sed viverra turpis in sapien pellentesque, vel tincidunt sapien volutpat. Curabitur non nulla ac augue varius fringilla et sed augue. Phasellus quis consectetur urna. Donec molestie dui et tortor blandit, vel faucibus lacus consequat. Donec nulla diam, iaculis sed egestas ac, posuere vitae dui. Donec at cursus neque, non vestibulum enim. Aliquam augue nisi, eleifend sit amet dolor sit amet, consequat posuere orci. Cras nibh tellus, ornare at libero ac, consequat porta sapien. Aliquam ut mauris quis urna scelerisque luctus in ac enim. Nam nibh libero, mollis volutpat suscipit ac, viverra vel odio. Aliquam erat volutpat. Aenean adipiscing, nulla et ultrices commodo, lectus velit sagittis tellus, eget congue augue sapien at felis. Cras nec egestas sapien. Cras dapibus leo sed dolor laoreet, at ornare felis pretium.</p>
	<p>Cras mattis nibh nec justo tempor, id rhoncus magna sollicitudin. Cras iaculis dolor sit amet fermentum semper. Fusce eget pellentesque turpis. Cras placerat urna at lacus placerat, sit amet hendrerit magna aliquet. Vestibulum lobortis lectus et nibh imperdiet ornare. Sed quis purus hendrerit, sodales lectus quis, auctor sem. Donec felis sapien, tincidunt eget ullamcorper ac, scelerisque at ligula. Curabitur cursus placerat vulputate. Maecenas laoreet est nunc, sit amet eleifend libero suscipit in. Duis nunc urna, porttitor a elit at, iaculis tincidunt elit. Sed quis consectetur mauris. Nam ut semper dui.</p>
	<p>Pellentesque porttitor tortor nec tortor ullamcorper, nec scelerisque mi condimentum. Morbi cursus molestie euismod. Sed ullamcorper massa rutrum arcu auctor, eu posuere nunc interdum. Mauris ac est tellus. Nullam quis odio leo. Aenean consequat, felis in tristique iaculis, neque erat semper risus, eu commodo orci nisi quis sapien. Nullam quis elementum est. Vestibulum malesuada blandit turpis, ut imperdiet justo porttitor ac. Nullam in cursus magna. Donec ultricies ante eget massa convallis, a elementum orci tincidunt. Quisque id vulputate nunc. Pellentesque ut dictum turpis, non gravida libero.</p>
	<p>Proin molestie, urna non dapibus blandit, metus magna semper nisl, id tincidunt enim urna nec nulla. Quisque in magna et ante pharetra hendrerit placerat ac urna. Sed viverra turpis in sapien pellentesque, vel tincidunt sapien volutpat. Curabitur non nulla ac augue varius fringilla et sed augue. Phasellus quis consectetur urna. Donec molestie dui et tortor blandit, vel faucibus lacus consequat. Donec nulla diam, iaculis sed egestas ac, posuere vitae dui. Donec at cursus neque, non vestibulum enim. Aliquam augue nisi, eleifend sit amet dolor sit amet, consequat posuere orci. Cras nibh tellus, ornare at libero ac, consequat porta sapien. Aliquam ut mauris quis urna scelerisque luctus in ac enim. Nam nibh libero, mollis volutpat suscipit ac, viverra vel odio. Aliquam erat volutpat. Aenean adipiscing, nulla et ultrices commodo, lectus velit sagittis tellus, eget congue augue sapien at felis. Cras nec egestas sapien. Cras dapibus leo sed dolor laoreet, at ornare felis pretium.</p>
	<span id="here"><i class="fa fa-arrow-left"></i> You read to here</span>
	<h3 id="bookmarks_title">All Bookmarks</h3>
	<div id="bookmarks">

	</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="js/scrollpos.js"></script>
	<script>
$(document).ready(function(){
       for (var i = 0, len = localStorage.length; i < len; i++) {
          var k = localStorage.key(i);
          var v = localStorage.getItem(k);

           $("#bookmarks").append("<a href='" + k + "'>Link " + i + "</a><button id='" + i + "'>Remove</button><br>");

          $("#" + i).click(function(){
        localStorage.removeItem(k);
        $(this).prev().css({"opacity": "0"});
        $(this).css({"opacity": "0"});

});
        }

    var t =  window.innerHeight;
    var url = window.location.href;
    var host = window.location.hostname;
    var current_title = $(document).attr('title');
    $("#setPos").click(function(){
        var s = $('body').scrollTop();
        var u = s + t - 40;
        var savePos = localStorage.setItem(url, u);
        var pos = localStorage.getItem(url);
        $("#here").css({"top": pos+"px", "opacity": "1"});
        $("#remPos").css({"opacity": "1"});
        $('#setPos').text('Update bookmark');
         $("#bookmarks").empty();
        for (var i = 0, len = localStorage.length; i < len; i++) {
          var k = localStorage.key(i);
          var v = localStorage.getItem(k);

           $("#bookmarks").append("<a href='" + k + "'>Link " + i + "</a><button id='" + i + "'>Remove</button><br>");

          $("#bookmarks button").click(function(){
        var locStor = $(this).prev().attr("href");
        localStorage.removeItem(locStor);
        $(this).prev().css({"opacity": "0"});
        $(this).css({"opacity": "0"});
        if(locStor === window.location.href){
            $("span").css({"opacity": "0"});
        $("#remPos").css({"opacity": "0"});
        $("#setPos").text("Save bookmark");
        }

});
        }

    });

    window.onload = function () {
        var pos2 = localStorage.getItem(url);
        var there = pos2 - t + 40;
        if(localStorage.getItem(url)){
                 $("#here").css({"top": localStorage.getItem(url)+"px", "opacity": "1"});
             $("#remPos").css({"opacity": "1"});
            $('#setPos').text('Update bookmark');
            $("body").animate({scrollTop: there});
            }
    }

      $("#remPos").click(function(){
        localStorage.removeItem(url);
        $("span").css({"opacity": "0"});
        $("#remPos").css({"opacity": "0"});
        $("#setPos").text("Save bookmark");
        $("a[href='" + url + "']").next().remove();
        $("a[href='" + url + "']").remove();

});


    });

</script>


</body>
</html>
